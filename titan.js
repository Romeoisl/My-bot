// This bot was developed by Team Titan Squad 
/*
 credits: nethws3dev for FCA 
          Team Titan Squad for Bot
          Forkers for using our bot
*/






const _0x3c3452=_0x2332;function _0x2332(_0x56259e,_0x4fc422){const _0x48a3d4=_0x48a3();return _0x2332=function(_0x2332e3,_0x59297a){_0x2332e3=_0x2332e3-0x18d;let _0x469c09=_0x48a3d4[_0x2332e3];return _0x469c09;},_0x2332(_0x56259e,_0x4fc422);}(function(_0x17bf97,_0x48afeb){const _0x57867e=_0x2332,_0x5f5947=_0x17bf97();while(!![]){try{const _0x4f3a89=-parseInt(_0x57867e(0x1a8))/0x1*(-parseInt(_0x57867e(0x191))/0x2)+-parseInt(_0x57867e(0x197))/0x3+-parseInt(_0x57867e(0x1a2))/0x4*(parseInt(_0x57867e(0x199))/0x5)+parseInt(_0x57867e(0x1c7))/0x6+-parseInt(_0x57867e(0x19e))/0x7+parseInt(_0x57867e(0x1ae))/0x8*(-parseInt(_0x57867e(0x18f))/0x9)+-parseInt(_0x57867e(0x19d))/0xa;if(_0x4f3a89===_0x48afeb)break;else _0x5f5947['push'](_0x5f5947['shift']());}catch(_0x22762f){_0x5f5947['push'](_0x5f5947['shift']());}}}(_0x48a3,0xd330d));const {login}=require(_0x3c3452(0x1be)),fs=require('fs'),path=require(_0x3c3452(0x1af)),figlet=require(_0x3c3452(0x1a5)),{Low,JSONFile}=require(_0x3c3452(0x1d2)),settings=JSON[_0x3c3452(0x1db)](fs[_0x3c3452(0x1c5)](path[_0x3c3452(0x1ba)](__dirname,_0x3c3452(0x1c4)),_0x3c3452(0x1e0)));function _0x48a3(){const _0x8215d9=['[Command]\x20Error:','now','ws3-fca','existsSync','selfListen','includes','length','prefix','settings.json','readFileSync','users','8740014cibBsd','groups','get','userID','shift','botName','Titan\x20Botz','error','adminIDs','data','adminOnly','lowdb','groupID','language','online','name','read','logMessageType','Bot\x20Name:\x20','execute','parse','startsWith','find','body','languages','utf8','map','replace','.json','run','db.json','355923EkCuwJ','sendMessage','21470XGzClY','write','toLowerCase','Total\x20commands\x20loaded:','log','Error\x20executing\x20command.','475686LteDnJ','split','6440AgQwzz','notAdmin','fcaOptions','senderID','8229840fQEPcA','5225381zHlEpZ','[Error]\x20Facebook\x20Login\x20Failed:','The\x20command\x20you\x20are\x20using\x20does\x20not\x20exist.','push','568WiPUii','[Warning]\x20Commands\x20directory\x20not\x20found.\x20Skipping\x20command\x20loading.','groupNotAllowed','figlet','cmds','size','145WpIylM','set','slice','filter','readdirSync','endsWith','48qVqHHF','path','Error\x20generating\x20banner','coins','Admins:\x20','.js','The\x20bot\x20has\x20started\x20listening\x20for\x20events...','default','threadName','isGroup','src','threadID','join','appstate.json'];_0x48a3=function(){return _0x8215d9;};return _0x48a3();}figlet(_0x3c3452(0x1cd),(_0x4178d9,_0x2ec1d5)=>{const _0x15cb0e=_0x3c3452;_0x4178d9?console[_0x15cb0e(0x195)](_0x15cb0e(0x1b0)):(console[_0x15cb0e(0x195)](_0x2ec1d5),console[_0x15cb0e(0x195)]('Titan\x20Botz\x20-\x20v1.0.0\x0aThis\x20bot\x20is\x20made\x20by\x20Team\x20Titan'));});function loadLang(_0x1a5b59){const _0x1c4bbe=_0x3c3452,_0x282969=path['join'](__dirname,_0x1c4bbe(0x1df),_0x1a5b59+_0x1c4bbe(0x1e3));if(fs[_0x1c4bbe(0x1bf)](_0x282969))return JSON[_0x1c4bbe(0x1db)](fs['readFileSync'](_0x282969,_0x1c4bbe(0x1e0)));return JSON[_0x1c4bbe(0x1db)](fs['readFileSync'](path[_0x1c4bbe(0x1ba)](__dirname,'languages','en.json'),_0x1c4bbe(0x1e0)));}const lang=loadLang(settings[_0x3c3452(0x1d4)]);function getText(_0x2a8d3c,_0xdeb2ff={}){const _0x3b4a6a=_0x3c3452;let _0x4322b0=lang[_0x2a8d3c]||_0x2a8d3c;for(const [_0x2c32f1,_0x450352]of Object['entries'](_0xdeb2ff)){_0x4322b0=_0x4322b0[_0x3b4a6a(0x1e2)](new RegExp('{{'+_0x2c32f1+'}}','g'),_0x450352);}return _0x4322b0;}const db=new Low(new JSONFile(_0x3c3452(0x18e)));async function initDB(){const _0x4575a4=_0x3c3452;await db[_0x4575a4(0x1d7)](),db[_0x4575a4(0x1d0)]||={'users':[],'groups':[],'history':[]};for(const _0x1dd885 of db[_0x4575a4(0x1d0)][_0x4575a4(0x1c6)]){if(_0x1dd885[_0x4575a4(0x1b1)]===undefined)_0x1dd885[_0x4575a4(0x1b1)]=0x0;}await db['write']();}initDB();const commands=new Map(),cmdDir=path['join'](__dirname,_0x3c3452(0x1b8),_0x3c3452(0x1a6));if(fs[_0x3c3452(0x1bf)](cmdDir)){const commandFiles=fs[_0x3c3452(0x1ac)](cmdDir)[_0x3c3452(0x1ab)](_0x29f9e5=>_0x29f9e5[_0x3c3452(0x1ad)]('.js'));for(const file of commandFiles){const command=require(path[_0x3c3452(0x1ba)](cmdDir,file));commands[_0x3c3452(0x1a9)](command[_0x3c3452(0x1d6)],command);}console[_0x3c3452(0x195)](_0x3c3452(0x194),commands[_0x3c3452(0x1a7)]);}else console['warn'](_0x3c3452(0x1a3));const creds={'appState':JSON[_0x3c3452(0x1db)](fs[_0x3c3452(0x1c5)](_0x3c3452(0x1bb),_0x3c3452(0x1e0)))};async function eventsHandler(_0x42b02f,_0x5d0bf9){const _0x7d26d6=_0x3c3452,_0x24ebc3=path['join'](__dirname,'..',_0x7d26d6(0x1b8),'events'),_0x512e55=fs[_0x7d26d6(0x1ac)](_0x24ebc3);for(const _0x408464 of _0x512e55){if(_0x408464[_0x7d26d6(0x1ad)](_0x7d26d6(0x1b3))){const _0x440827=await require(path[_0x7d26d6(0x1ba)](_0x24ebc3,_0x408464));_0x440827[_0x7d26d6(0x1b5)]['eventType']===_0x5d0bf9[_0x7d26d6(0x1d8)]&&await _0x440827[_0x7d26d6(0x1b5)][_0x7d26d6(0x18d)](_0x42b02f,_0x5d0bf9);}}}login(creds,{'online':settings[_0x3c3452(0x19b)][_0x3c3452(0x1d5)],'updatePresence':settings[_0x3c3452(0x19b)]['updatePresence'],'selfListen':settings[_0x3c3452(0x19b)][_0x3c3452(0x1c0)],'randomUserAgent':![]},(_0x216ebd,_0x5f3fd1)=>{const _0xa5d286=_0x3c3452;if(_0x216ebd)return console[_0xa5d286(0x1ce)](_0xa5d286(0x19f),_0x216ebd);((async()=>{const _0x356826=_0xa5d286;await db[_0x356826(0x1d7)]();const _0x404a52=settings[_0x356826(0x1cf)][_0x356826(0x1e1)](_0x27315e=>{const _0x31dd87=_0x356826,_0x2cff4d=db[_0x31dd87(0x1d0)]['users'][_0x31dd87(0x1dd)](_0x199821=>_0x199821[_0x31dd87(0x1ca)]===_0x27315e);return _0x2cff4d?_0x2cff4d[_0x31dd87(0x1d6)]+'\x20('+_0x27315e+')':_0x27315e;});console['log'](_0x356826(0x1d9)+settings[_0x356826(0x1cc)]),console[_0x356826(0x195)]('Prefix:\x20'+settings['prefix']),console[_0x356826(0x195)](_0x356826(0x1b2)+_0x404a52[_0x356826(0x1ba)](',\x20')),console[_0x356826(0x195)](_0x356826(0x1b4));})()),_0x5f3fd1['listenMqtt'](async(_0x1210ff,_0x3d654c)=>{const _0x2997fe=_0xa5d286;if(_0x1210ff)return console[_0x2997fe(0x1ce)]('[Error]\x20Failed\x20to\x20listen\x20for\x20events:',_0x1210ff);const _0x776917=_0x3d654c;await eventsHandler(_0x5f3fd1,_0x776917);if(_0x776917['isGroup']&&settings['allowedGroups'][_0x2997fe(0x1c2)]>0x0&&!settings['allowedGroups'][_0x2997fe(0x1c1)](_0x776917['threadID']))return _0x5f3fd1['sendMessage'](getText(_0x2997fe(0x1a4)),_0x776917[_0x2997fe(0x1b9)]);if(_0x776917[_0x2997fe(0x1b7)]){await db[_0x2997fe(0x1d7)]();let _0x306979=db['data'][_0x2997fe(0x1c8)][_0x2997fe(0x1dd)](_0x5d5723=>_0x5d5723[_0x2997fe(0x1d3)]===_0x776917[_0x2997fe(0x1b9)]);!_0x306979&&(db[_0x2997fe(0x1d0)]['groups']['push']({'groupID':_0x776917[_0x2997fe(0x1b9)],'name':_0x776917[_0x2997fe(0x1b6)]||'','joinedAt':Date[_0x2997fe(0x1bd)](),'admins':[]}),await db['write']());}if(_0x776917[_0x2997fe(0x19c)]){await db[_0x2997fe(0x1d7)]();let _0x4fabd8=db['data']['users']['find'](_0x23a421=>_0x23a421['userID']===_0x776917[_0x2997fe(0x19c)]);if(!_0x4fabd8)db[_0x2997fe(0x1d0)][_0x2997fe(0x1c6)][_0x2997fe(0x1a1)]({'userID':_0x776917['senderID'],'name':'','coins':0x0}),await db[_0x2997fe(0x192)]();else _0x4fabd8[_0x2997fe(0x1b1)]===undefined&&(_0x4fabd8[_0x2997fe(0x1b1)]=0x0,await db[_0x2997fe(0x192)]());}if(_0x776917[_0x2997fe(0x1de)]&&_0x776917[_0x2997fe(0x1de)][_0x2997fe(0x1dc)](settings[_0x2997fe(0x1c3)])){const _0x39a04c=_0x776917[_0x2997fe(0x1de)][_0x2997fe(0x1aa)](settings[_0x2997fe(0x1c3)][_0x2997fe(0x1c2)])['trim']()[_0x2997fe(0x198)](/ +/g),_0x356ca3=_0x39a04c[_0x2997fe(0x1cb)]()[_0x2997fe(0x193)](),_0x1eb88f=commands[_0x2997fe(0x1c9)](_0x356ca3);if(!_0x1eb88f)return _0x5f3fd1[_0x2997fe(0x190)](_0x2997fe(0x1a0),_0x776917[_0x2997fe(0x1b9)]);try{if(_0x1eb88f[_0x2997fe(0x1d1)]&&!settings[_0x2997fe(0x1cf)][_0x2997fe(0x1c1)](_0x776917[_0x2997fe(0x19c)]))return _0x5f3fd1[_0x2997fe(0x190)](getText(_0x2997fe(0x19a)),_0x776917[_0x2997fe(0x1b9)]);await _0x1eb88f[_0x2997fe(0x1da)](_0x5f3fd1,_0x776917,_0x39a04c,db,settings,getText);}catch(_0xce244e){_0x5f3fd1[_0x2997fe(0x190)](_0x2997fe(0x196),_0x776917[_0x2997fe(0x1b9)]),console[_0x2997fe(0x1ce)](_0x2997fe(0x1bc),_0xce244e);}}});});
